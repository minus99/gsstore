.menu {
    display: block;
    position: relative;
    z-index: 1;
    width: 100%;
    max-width: none;
    padding: 0 30px;
    background: none;
    font-family: $font1;
    font-size: 13px;
    color: $color0;
    font-weight: 500;

    opacity: 1;
    transform: none !important;
    transition: none !important;
    
    li {
        > a {
            padding: 0;
            margin: 0;
            line-height: inherit;
        }
        &.selected {
            position: static;
            width: auto;
            > a {
                position: relative;
                font-family: inherit;
                font-size: inherit;
                color: inherit;
                font-weight: inherit;
                line-height: inherit;
                background: inherit;
                padding: inherit;
                &::before {
                    position: absolute;
                    left: 0;
                    bottom: 0;
                    width: 100%;
                    height: auto;
                    background: none;
                    border-width: 1px 0 0 0;
                    border-color: currentColor;
                    border-radius: 0;
                    margin: 0;
                    transform: none;
                    animation: animation-02 .32s cubic-bezier(0.215, 0.610, 0.355, 1.000); /* easeOutCubic */
                }
            }
            > .sub,
            > ul,
            .lvl-2 {
                animation: none;
            }
        }
        ul {
            display: block;
        }
    }

    .lvl-1 {
        display: flex;
        justify-content: center;
        overflow: initial;
        padding: 0;
        margin: 0;
        border: none;
        > li {
            > a {
                margin: 0 5px;
                padding: 0 5px;
            }
            &.selected {
                .sub {
                    display: flex;
                }
            }
        }
    }

    .sub {
        display: none;
        position: absolute;
        left: #{-$subGapL};
        top: 100%;
        z-index: 2;
        width: calc(100% + #{$subGapL * 2});
        height: 305px;
        background: #fdfdfd;
        font-family: $font2;
        line-height: $line-height + .5;
        .r1,
        .r2 {
            position: relative;
            overflow: hidden;
        }
        .r1 {
            flex-basis: #{$subGapL + 30px};
            + .r2 {
                flex: none;
                margin-left: 0;
            }
        }
        .r2 {
            flex: 1;
            margin-left: auto;
            margin-right: auto;
        }
    }

    .img1 {
        animation: animation-01 .32s cubic-bezier(0.215, 0.610, 0.355, 1.000); /* easeOutCubic */
    }

    .lvl-2 {
        column-count: 1;
        column-gap: 50px;
        height: 100%;
        padding: 75px 100px;
        margin: 0;
        animation: animation-02 .32s cubic-bezier(0.215, 0.610, 0.355, 1.000) !important; /* easeOutCubic */
        > li {
            break-inside: avoid;
            a,
            .prm-title {
                display: inline-flex;
            }
            &.ems-sub-menu {
                height: 100%;
            }
        }
    }

    .lvl-3 {
        padding: 0;
        margin: 0;
        > li {
            > a {
                font-weight: 500;
            }
        }
    }

    .col {
        &-2 {
            .lvl-2 {
                column-count: 2;
            }
        }
        &-3 {
            .lvl-2 {
                column-count: 3;
            }
        }
        &-4 {
            .lvl-2 {
                column-count: 4;
            }
        }
        &-5 {
            .lvl-2 {
                column-count: 5;
            }
        }
        &-6 {
            .lvl-2 {
                column-count: 6;
            }
        }
        &-skip {
            margin-bottom: 100%;
        }
    }


    .type02 {
        .sub {
            height: auto;
        }
        .lvl-2 {
            column-gap: 20px;
            > li {
                width: 190px;
            }
        }
    }

    &-ready {
        .menu {
            display: block;
        }
    }

    &-animate {
        overflow: initial;
        .menu-overlay {
            top: $d-site-header-height;
        }
    }
}