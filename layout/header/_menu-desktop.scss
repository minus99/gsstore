.menu {
    display: block;
    position: relative;
    z-index: 1;
    width: 100%;
    max-width: none;
    padding: 0 20px;
    background: transparent;
    font-family: $font1;
    font-size: 13px;
    color: $color0;
    font-weight: 500;

    opacity: 1;
    transform: none !important;
    transition: none !important;
    li {
        > a {
            padding: 0;
            margin: 0;
            line-height: inherit;
        }
        &.selected {
            position: static;
            width: auto;
            height: auto;
            background: none;
            overflow: visible;
            > a {
                font-family: inherit;
                font-size: inherit;
                color: inherit;
                font-weight: inherit;
                line-height: inherit;
                background: none;
                padding: 0;
                &::before {
                    display: none;
                }
            }
            > .sub,
            > ul {
                animation: none;
            }
        }
        ul {
            display: block;
        }
    }

    .lvl-1 {
        display: flex;
        justify-content: center;
        overflow: initial;
        padding: 0;
        margin: 0;
        > li {
            > a {
                margin: 0 5px;
                padding: 0 5px;
            }
            &.selected,
            &.type2 {
                .sub {
                    display: flex;
                }
            }
        }
    }

    .sub {
        display: none;
        position: absolute;
        left: #{-$subGapL};
        top: 100%;
        z-index: 2;
        width: calc(100% + #{$subGapL * 2});
        height: 360px;
        background: $color3;
        font-family: $font2;
        line-height: $line-height + .5;
        .r1,
        .r2 {
            position: relative;
            overflow: hidden;
        }
        .r1 {
            flex-basis: #{$subGapL + 30px};
            + .r2 {
                flex: 1;
            }
        }
        .r2 {
            margin-left: auto;
            margin-right: auto;
        }
    }

    .lvl-2 {
        column-count: 1;
        column-gap: 50px;
        height: 100%;
        padding: 30px;
        margin: 0;
        animation: animation-02 .5s cubic-bezier(0.215, 0.610, 0.355, 1.000) !important; /* easeOutCubic */
        > li {
            break-inside: avoid;
            a,
            .prm-title {
                display: inline-flex;
                line-height: 1.4;
            }
            &.ems-sub-menu {
                height: 100%;
            }
        }
    }

    .lvl-3 {
        padding: 0;
        margin: 0;
        > li {
            > a {
                font-weight: 500;
            }
        }
    }

    .col {
        &-2 {
            .lvl-2 {
                column-count: 2;
            }
        }
        &-3 {
            .lvl-2 {
                column-count: 3;
            }
        }
        &-4 {
            .lvl-2 {
                column-count: 4;
            }
        }
        &-5 {
            .lvl-2 {
                column-count: 5;
            }
        }
        &-6 {
            .lvl-2 {
                column-count: 6;
            }
        }
    }


    .type02 {
        .sub {
            height: auto;
        }
        .lvl-2 {
            column-gap: 20px;
            > li {
                width: 190px;
            }
        }
    }

    &-ready {
        .menu {
            display: block;
        }
    }

    &-animate {
        position: initial;
        overflow: initial;
        .menu-overlay {
            top: 110px;
        }
    }
}